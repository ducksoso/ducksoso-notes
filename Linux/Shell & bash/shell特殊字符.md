













### 关系运算符

| 序号 | 符号 | 作用 | 示例 |
| ---- | ---- | ---- | ---- |
|      |      |      |      |
|      |      |      |      |
|      |      |      |      |





10	[]	一对方括号，用于判断条件是否成立	[ $a == $b ]，注意添加 4 个空格
11	[[]]	两对方括号，是对 [] 的扩展，可使用 <、>、&&、|| 等运算符	[[ $a>$b ]]，只需要添加左右两边两个空格。注意：使用 == 与 != 时，仍需要 4 个空格
12	-eq	检测两个数是否相等，相等返回 true	[ $a -eq $b ] 返回 true
13	==	检测两个数是否相等，作用同-eq	[ $a == $b ] 返回 true
14	-ne	检测两个数是否相等，不相等返回 true	[ $a -ne $b ] 返回 true
15	!=	作用同 -ne	[ $a != $b ] 返回 true
16	-gt	检测左边的数是否大于右边的，如果是，则返回 true	[ $a -gt $b ] 返回 false
17	-lt	检测左边的数是否小于右边的，如果是，则返回 true	[ $a -lt $b ] 返回 true
18	-ge	检测左边的数是否大等于右边的，如果是，则返回 true	[ $a -ge $b ] 返回 false
19	-le	检测左边的数是否小于等于右边的，如果是，则返回 true	[ $a -le $b ] 返回 true

**注意：**

（1）运算符 `[]` 与 `[[]]` 的区别？

`[] `实际上是 Bash 中 `test` 命令的简写，即所有的 `[ expression ]` 等于 `test expression`。而`[[ expression ]]` 是 Bash 中真正的条件判断语句，其语法更符合编程习惯，建议使用。

（2）Shell 中没有 `<=` 与 ``>=`` 运算符，只能使用`-le`与`-ge`替代。但是有 `>` 和 `<`



### 3.3 逻辑运算符

| 序号 | 符号 | 作用                                                         | 示例                                   |
| ---- | ---- | ------------------------------------------------------------ | -------------------------------------- |
| 20   | !    | 非运算，表达式为 true 则返回 false，否则返回 true            | [ ! false ] 返回 true                  |
| 21   | -o   | 或运算，有一个表达式为 true 则返回 true                      | [ $a -lt 20 -o $b -gt 100 ] 返回 true  |
| 22   | -a   | 与运算，两个表达式都为 true 才返回 true                      | [ $a -lt 20 -a $b -gt 100 ] 返回 false |
| 23   | \|\| | 或运算符，与 && 作用相反，也有两种用法<br />1）用于条件判断，需与 `[[]]` 配合使用。两个表达式有一个为 true 就返回 true<br />2）命令连接：``command1 || command2`，左边的命令返回 false（即返回非 0，执行失败），右边的命令才能够被执行 | `[[ $a < 20 ||$a > 19 ]]` 返回 true    |
| 24   | &&   | 与运算符，有两种用法:<br />1）用于条件判断，需与 [[]] 配合使用。两个表达式都为true才返回true<br />2）命令连接。command1 && command2。左边的命令返回真（即返回 0，成功被执行），右边的命令才能够被执行 | [[ $a < 20 && $a > 20 ]] 返回 false    |



### 3.4 字符串运算

| 序号 | 符号 | 作用                                                       | 示例                                                   |
| ---- | ---- | ---------------------------------------------------------- | ------------------------------------------------------ |
| 25   | =    | 检测两个字符串是否相等，相等返回 true                      | [ "$a" = "$b" ] 返回 false                             |
| 26   | !=   | 检测两个字符串是否相等，不相等返回 true                    | [ "$a" != "$b" ] 返回 true                             |
| 27   | -z   | 检测字符串长度是否为 0，为 0 返回 true                     | [ -z "$a" ] 返回 false                                 |
| 28   | -n   | 检测字符串长度是否为 0，不为 0 返回 true                   | [ -n "$a" ] 返回 true                                  |
| 29   | str  | 检测字符串是否为空，不为空返回 true                        | [ "$a" ] 返回 true                                     |
| 30   | =~   | 正则表达式匹配运算符，用于匹配正则表达式的，配合 [[]] 使用 | [[ ! $file =~ check$ ]] 判断 $file 是否是以 check 结尾 |



**注意：**

-z 不仅可以用来判断字符串长度是否为 0，也可以用来判断变量是否被申明。

```sh
# 如果变量 VAR 已申明，返回 false
if [ -z ${var+x} ]; then echo "var is unset"; else echo "var is set to '$var'"; fi
```





### 3.5 文件运算符

**文件运算符用于检测文件的各种属性**

| 序号 | 符号 | 作用                                                         | 示例                                           |
| ---- | ---- | ------------------------------------------------------------ | ---------------------------------------------- |
| 31   | -b   | 文件存在且是块设备文件                                       | [ -b /dev/vda1 ] 返回 true                     |
| 32   | -c   | 文件存在且是字符设备文件                                     | [ -c /dev/stdin ] 返回 true                    |
| 33   | -d   | 文件存在且是目录                                             | [ -d / ] 返回 true                             |
| 34   | -e   | 文件（包括目录）是否存在                                     | [ -e / ] 返回 true                             |
| 35   | -f   | 文件存在且是普通文件（既不是目录，也不是设备文件）           | [ -f /etc/passwd] 返回 true                    |
| 36   | -g   | 文件存在且设置了 SGID 位                                     | [ -g /usr/bin/passwd ] 返回 false              |
| 37   | -G   | 文件存在且属于有效组 ID                                      | [ -G /etc/passwd ] 返回 true                   |
| 38   | -h   | **文件存在且是软链接**。同 **-L**，这个在 charts's release-chart.sh 里出现过 | [ -h /etc/passwd ] 返回 false                  |
| 39   | -k   | 文件存在且设置了粘着位（Sticky Bit）                         | [ -k /tmp ] 返回 true                          |
| 40   | -L   | 文件存在且是软链接。同 -h                                    | [ -L /etc/passwd ] 返回 false                  |
| 41   | -O   | 文件存在且属于有效用户ID                                     | [ -O /etc/passwd ] 返回 true                   |
| 42   | -p   | 文件存在且是具名管道                                         | [ -p /etc/passwd ] 返回 false                  |
| 43   | -r   | 文件存在且可读                                               | [ -r /etc/passwd ] 返回 true                   |
| 44   | -s   | 文件存在且不为空                                             | [ -s /etc/passwd ] 返回 true                   |
| 45   | -S   | 文件存在且是套接字（socket）                                 | [ -S /etc/passwd ] 返回 false                  |
| 46   | -u   | 文件存在且设置了 SUID 位                                     | [ -u /usr/bin/passwd ] 返回 true               |
| 47   | -w   | 文件存在且可写                                               | [ -w /etc/shadow ] 返回 false                  |
| 48   | -x   | 文件存在且可执行                                             | [ -x /usr/bin/passwd ] 返回 true               |
| 49   | -ef  | 两个文件是否为同一个文件。主要看文件设备号与 inode 是否一致  | [ /usr/bin/passwd -ef /etc/passwd ] 返回 false |
| 50   | -nt  | 文件 FILE1 是否比 FILE2 新（修改时间新）                     | [ /usr/bin/passwd -nt /etc/passwd ] 返回 false |
| 51   | -ot  | 文件 FILE1 是否比 FILE2 旧（修改时间旧）                     | [ /usr/bin/passwd -ot /etc/passwd ] 返回 true  |

 **Linux 下文件的类型:**

```sh
- 普通文件
d 目录
b 块设备
c 字符设备
p 命名管道
l 符号链接
s 套接字
```









https://blog.csdn.net/K346K346/article/details/51819236