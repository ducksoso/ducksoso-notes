



# 视觉格式化模型

大体上将页面中盒子的排列分为三种方式：

1. 常规流
2. 浮动
3. 定位



## 常规流布局

常规流、文档流、普通文档流、常规文档流

所有元素，默认情况下，都属于常规流布局

总体规则：块盒独占一行，行盒水平依次排列

**包含块**（containing block）：每个盒子都有它的包含块，包含块决定了盒子的排列区域。

绝大部分情况下：盒子的包含块，为其父元素的内容盒



### 块盒

1. 每个块盒的总宽度，**必须刚好等于包含块的宽度**

   宽度的默认值是 auto；margin 的取值也可以是 auto，默认值是0

   **auto: 将剩余空间吸收掉**

   **width 吸收能力强于 margin**

   若宽度、边框、内边距、外边距计算后，仍然有剩余空间，该剩余空间被 margin-right 全部吸收

   ```css
   .child {
     border: 2px solid;
     height: 100px;
     background: red;
     width: 100px;
   }
   ```

   常规流中，块盒在其包含块中**居中**，可以定宽、然后左右margin设置为 auto

   ```css
   .child {
     border: 2px solid;
     height: 100px;
     background: red;
     width: 100px;
     margin-left: auto;
     margin-right: auto;
   }
   or 
   .child {
     border: 2px solid;
     height: 100px;
     background: red;
     width: 100px;
     margin: 0 auto; // 上下为0，左右 auto
   }
   ```

   

2. 每个块盒垂直方向上的auto值

   height: auto，适应内容的高度

   margin: auto，表示0

   

3. **百分比取值**

   padding、宽、margin 可以取值为百分比

   以上百分比相对于包含块的宽度。

   高度的百分比：

   	1. 包含块（父元素）的高度是否取决于子元素的高度（包含块未设置了高度），设置百分比无效
   	1. 包含块（父元素）的高度不取决于子元素的高度（人话：包含块设置了高度），百分比相对于父元素的高度

   

4. 上下外边距的合并

   两个常规流块盒，上下外边距相邻，会进行合并

   两个外边距取最大值

   

5. 







## 浮动

兼容性最好的方式

应用场景

1. 文字环绕
2. 横向排列



#### 浮动的基本特点

修改float属性值为：

- left: 左浮动，元素靠上靠左
- right: 右浮动，元素靠上靠右

默认值为none

1. 当一个元素浮动后，元素必定为块盒（会更改display属性为block），一个span元素浮动起来之后，跟div一样。一定是块盒
2. 浮动元素的包含块，和常规流一样，为父元素的内容盒



#### 盒子尺寸

1. 宽度为auto时，适应内容宽度，不会吸收剩余空间。
2. 高度为auto时，与常规流一致，适应内容的高度
3. margin 为 auto时，为0
4. 边框、内边距、百分比设置与常规流一样



#### 盒子排列

1. 左浮动，靠上靠左
2. 右浮动，靠上靠右
3. 浮动盒子在包含块中排列时，会避开常规流块盒
4. 常规流块盒在排列时，无视浮动盒子
5. 行盒在排列时，会避开浮动盒子



> 如果没有文字在行盒中，浏览器会自动生成一个行盒包裹文字，该行盒叫做匿名行盒。



文字一定在行盒里，块盒里的文字，浏览器会生成行盒



#### 高度坍塌

根源：常规流盒子的自动高度，在**计算时，不会考虑浮动盒子**

浮动盒子脱离了常规流，设置了高度，就没这个问题了。只是auto会有问题



清除浮动，设计css属性: clear

- 默认值：none
- left: 清除左浮动，该元素必须出现在前面所有左浮动盒子的下方
- right：清除右浮动，该元素必须出现在前面所有右浮动盒子的下方
- both：清除左右浮动，该元素必须出现在前面所有浮动盒子的下方



在一个元素，在所有元素的下方，设置 clear ，是一个空元素

```html
.clearfix::after { // 伪元素
	content: "";
	display: block;
	clear: both;
}

<div class="container clearfix">
  <div>
    
  </div>
</div>
```







## 定位



position 属性

















最终使用的是flex  + grid





















