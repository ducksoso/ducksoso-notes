## 正则表达式

### regexp工具

* [正则表达式调试工具](https://regexr-cn.com/)
* [正则表达式可视化工具](https://jex.im/regulex/#!flags=&re=%5E(a%7Cb)*%3F%24)



字符串是编程时涉及到的最多的一种数据结构，对字符串进行操作的需求无处不在。例如判断一个字符串是否时合法的email地址，虽然可以提取`@`前后的子串，再分别判断是否时单词和域名，这样做不但麻烦，而且代码难以复用。

设计思想：用一种描述性的语言来给字符串定义一个规则，凡是符合规则的字符串，就认为它`匹配`了，否则，该字符串就是不合法的。



**字符描述字符**

规则：

* 在正则表达式中，如果直接给出字符，就是精确匹配。用`\d`可以匹配一个数字，`\w`可以匹配一个字母或数字。

* `.`可以匹配任何字符，所以：`py.`可以匹配：`pyc`、`pyo`、`py!`等

* 要匹配变长的字符，在正则表达式中，用`*`表示任何个字符（包括0个），用`+`表示至少一个字符，用`?`表示0个或1个字符，用`{n}`表示n个字符，用`{n,m}`表示n-m个字符。

  例子：`\d{3}\s+\d{3,8}`

  从左到右解读一下：

  1. `\d{3}`表示匹配3个数字，例如：`010`
  2. `\s`可以匹配一个空格（也包括Tab等空白符），所以`\s+`表示至少有一个空格，例如匹配：`' '`，`'        '`等
  3. `\d{3,8}`表示3-8个数字，例如：`1234567`

  综合起来，上面的正则表达式，可以匹配以任意个空格隔开的带区号的电话号码。

  如果要匹配`'010-12345'`这样的号码呢？由于`-`是特殊字符，在正则表达式中，要用`\`转义，所以上面的正则是`\d{3}\-\d{3,8}`





进阶：要做到更精确的匹配，可以用`[]`表示范围，比如：

* `[0-9a-zA-Z\_]`可以匹配一个数字、字符或者下划线；
* 

​		

​	正斜杠 `/`，在正则表达式中可以用 `\/`表示

#### 正则表达式中的特殊字符

| 字符 | 含义                                                         |      |
| ---- | ------------------------------------------------------------ | ---- |
| \    | 依照下列规则匹配：<br /><br />在非特殊字符之前的反斜杠表示下一个字符是特殊字符，不能按照字面理解。例如，前面没有 "\" 的 "b" 通常匹配小写字母 "b"，即字符会被作为字面理解，无论它出现在哪里。但如果前面加了 "\"，它将不再匹配任何字符，而是表示一个[字符边界](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Regular_Expressions#note)。<br />在特殊字符之前的反斜杠表示下一个字符不是特殊字符，应该按照字面理解。详情请参阅下文中的 "转义（Escaping）" 部分。 |      |
| ^    | 匹配输入的开始，例如，`/^A/` 并不会匹配 "an A" 中的 'A'，但是会匹配 "An E" 中的 'A'。 |      |
| $    | 匹配输入的结束，例如，`/t$/` 并不会匹配 "eater" 中的 't'，但是会匹配 "eat" 中的 't'。 |      |
| *    | 匹配前一个表达式 0 次或多次。等价于 `{0,}`。                 |      |
| +    | 匹配前面一个表达式 1 次或者多次。等价于 `{1,}`。             |      |
| ?    | 匹配前面一个表达式 0 次或者 1 次。等价于 `{0,1}`。<br />例如，`/e?le?/` 匹配 "angel" 中的 'el'、"angle" 中的 'le' 以及 "oslo' 中的 'l'。<br />如果**紧跟在任何量词 \*、 +、? 或 {} 的后面**，将会使量词变为**非贪婪**（匹配尽量少的字符），和缺省使用的**贪婪模式**（匹配尽可能多的字符）正好相反。例如，对 "123abc" 使用 `/\d+/` 将会匹配 "123"，而使用 `/\d+?/` 则只会匹配到 "1"。<br />还用于先行断言中，如本表的 `x(?=y)` 和 `x(?!y)` 条目所述。 |      |
| .    | （小数点）默认匹配除换行符之外的任何单个字符。<br />例如，`/.n/` 将会匹配 "nay, an apple is on the tree" 中的 'an' 和 'on'，但是不会匹配 'nay'。<br />如果 `s` ("dotAll") 标志位被设为 true，它也会匹配换行符。 |      |
|      |                                                              |      |
|      |                                                              |      |





















